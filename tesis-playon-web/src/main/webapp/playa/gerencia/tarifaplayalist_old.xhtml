<ui:composition template="../../template/templatePlaya.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:param name="loadmenuadmin" value="true" />

	<ui:param name="title" value="Listado de Tarifas y Promociones" />

	<ui:define name="content" class="admin-font">
		<h:form>

			<p:growl id="messages" />

			<p:dataTable id="tarifas" var="tarifa" paginator="true" rows="5"
				paginatorPosition="bottom" value="#{tarifaMB.tarifaPlayaLogged}"
				emptyMessage="No existen tarifas en la playa seleccionada">

				<f:facet name="header">
				Tarifas
            	</f:facet>

				<p:column headerText="Tipo Estadía" styleClass="column-font">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{tarifa.tipoEstadia.nombre}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{tarifa.tipoEstadia.nombre}"
								styleClass="input-font" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Categoría" styleClass="column-font">
					<p:cellEditor>
						<f:facet name="output">
							<h:outputText value="#{tarifa.categoriaVehiculo.nombre}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{tarifa.categoriaVehiculo.nombre}"
								styleClass="input-font" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Importe" styleClass="column-font">
					<p:cellEditor>
						<f:facet name="output">$
							<h:outputText value="#{tarifa.importe}" />
						</f:facet>
						<f:facet name="input">
							<p:inputText value="#{tarifa.importe}" styleClass="input-font" />
						</f:facet>
					</p:cellEditor>
				</p:column>

				<p:column headerText="Opciones"
					style="text-align:center; width:75px;">

					<p:commandLink id="view" title="Ver Tarifa"
						oncomplete="viewDialog.show();" update=":displayView">
						<f:setPropertyActionListener value="#{tarifa}"
							target="#{tarifaMB.tarifaSelected}" />
						<h:graphicImage library="images/icons" name="search.png" />
					</p:commandLink>

					<p:commandLink id="edit" title="Editar Tarifa"
						action="/playa/gerencia/tarifaedit.html?faces-redirect=true"
						ajax="false">
						<f:setPropertyActionListener value="#{tarifa}"
							target="#{tarifaMB.tarifaSelected}" />
						<h:graphicImage library="images/icons" name="pencil.png"
							style="width:25px; height:25px;" />
					</p:commandLink>

					<p:commandLink id="darBaja" title="Dar de baja"
						action="#{empleadoMB.deleteEmpleado}" ajax="false">
						<f:setPropertyActionListener value="#{empleado}"
							target="#{empleadoMB.empleadoSelected}" />
						<h:graphicImage library="images/icons" name="trash.png"
							style="width:25px; height:25px;" />
					</p:commandLink>
				</p:column>

			</p:dataTable>
		</h:form>


		<div align="right">
			<br />
			<h:link value="volver a administración"
				outcome="/playa/gerencia/administracion" />
		</div>

		<!-- DIALOG PARA VER LOS DATOS DEL USUARIO SELECCIONADO -->
		<p:dialog header="Datos de la Tarifa" widgetVar="viewDialog"
			resizable="false" id="viewDlg" showEffect="fade" modal="true"
			draggable="false">

			<h:panelGrid id="displayView" columns="2" cellpadding="4"
				cellspacing="15">

				<p:column>
					<h:outputText value="Tipo Estadía: " />
				</p:column>
				<p:column>
					<h:outputText value="#{tarifaMB.tarifaSelected.tipoEstadia.nombre}"
						style="font-weight:bold; font-style:italic;" />
				</p:column>

				<p:column>
					<h:outputText value="Categoría Vehículo: " />
				</p:column>
				<p:column>
					<h:outputText
						value="#{tarifaMB.tarifaSelected.categoriaVehiculo.nombre}"
						style="font-weight:bold; font-style:italic;" />
				</p:column>

				<p:column>
					<h:outputText value="Importe: " />
				</p:column>
				<p:column>
					<h:outputText value="#{tarifaMB.tarifaSelected.importe}"
						style="font-weight:bold; font-style:italic;" />
				</p:column>

				<p:column>
					<h:outputText value="Vigente: " />
				</p:column>
				<p:column style="align-text:center;">
					<h:selectBooleanCheckbox
						value="#{tarifaMB.tarifaSelected.vigente}"
						style="font-weight:bold" disabled="true" />
				</p:column>

				<p:column>
				</p:column>
				<p:column style="text-align:right">
					<div align="right">
						<h:commandButton id="btnAceptar" value="Aceptar"
							style="padding:4px" onclick="viewDialog.hide();" type="button" />
					</div>
				</p:column>

			</h:panelGrid>
		</p:dialog>



	</ui:define>
</ui:composition>