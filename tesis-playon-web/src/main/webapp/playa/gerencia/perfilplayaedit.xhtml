<ui:composition template="../../template/templatePlaya.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:param name="loadmenuperfil" value="true" />


	<ui:define name="title">
		Editar perfil
    </ui:define>

	<ui:define name="content">
		<h1>Editar perfil</h1>
		
		<p:growl id="messages" />
		
		<div id="perfil-playa">
			<h:panelGrid columns="2">
				<h:graphicImage library="fotos_perfil_playas"
					name="#{perfilPlayaMB.perfil.nombreFoto}"
					style="width:151px; height:151px; border: 2px solid black"
					rendered="#{perfilPlayaMB.perfil.nombreFoto != null}" />
				<h:graphicImage library="fotos_perfil_playas" name="sinfoto.jpg"
					style="width:151px; height:151px; border: 2px solid black"
					rendered="#{perfilPlayaMB.perfil.nombreFoto == null}" />
				<h1 style="width: 400px">#{perfilPlayaMB.perfil.playa.nombreComercial}</h1>
			</h:panelGrid>

			<h:panelGrid>
				<h:form id="uploadForm" enctype="multipart/form-data">
					<p:fileUpload id="fotoPerfil"
						value="#{perfilPlayaMB.fotoPerfilFile}" mode="simple"
						allowTypes="*.jpg;" />
					<h:commandButton value="Subir foto" ajax="false"
						actionListener="#{perfilPlayaMB.upload}"
						style="margin:0 10px 0 0; padding: 0 5px 0 5px"
						 />
				</h:form>
			</h:panelGrid>
		</div>
		<br />
		<h:form>
			<div id="perfil-playa">
				<h:panelGrid columns="2" cellpadding="5">

					<h:outputText value="Calificación:" styleClass="fuente-outputtext" />
					<p:column>
						<p:rating value="#{perfilPlayaMB.calificacion}" disabled="true"
							stars="10" />
					</p:column>

					<h:outputText value="Domicilio: " styleClass="fuente-outputtext" />
					<h:outputText
						value="#{perfilPlayaMB.perfil.playa.domicilio}, Córdoba "
						styleClass="fuente-perfil" />

					<h:outputText value="Barrio: " styleClass="fuente-outputtext" />
					<h:outputText value="#{perfilPlayaMB.perfil.playa.barrio.nombre}"
						styleClass="fuente-perfil" />

					<h:outputText for="telefono" value="Teléfono: "
						styleClass="fuente-outputtext" />
					<p:inputText id="telefono" value="#{perfilPlayaMB.telefono}"
						style="width:200px;" />

					<h:outputText for="email" value="E-mail: "
						styleClass="fuente-outputtext" />
					<p:inputText id="email" value="#{perfilPlayaMB.email}"
						style="width:200px;" />

					<h:outputText value="Disponibilidad: " for="disponibilidad"
						styleClass="fuente-outputtext" />
					<p:inputText id="disponibilidad"
						value="#{perfilPlayaMB.disponibilidad}" style="width:200px;" />

					<h:outputText value="Descripción: " styleClass="fuente-outputtext" />
					<p:inputTextarea rows="6"
						value="#{perfilPlayaMB.perfil.descripcion}" style="width:200px;" />

					<p:column>
					</p:column>
					<p:column>
						<div align="right">
							<br />
							<p:commandButton id="cancelar" immediate="true" value="Cancelar"
								action="/playa/perfilplaya.html?faces-redirect=true"
								ajax="false" style="margin-right:15px;" type="submit" />

							<p:commandButton id="editEmploy" value="Modificar"
								action="#{perfilPlayaMB.updatePerfil}" ajax="false" />
						</div>
					</p:column>
				</h:panelGrid>
			</div>
		</h:form>
	</ui:define>
</ui:composition>