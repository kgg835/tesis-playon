<ui:composition template="../../template/templatePlaya.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:param name="loadmenuadmin" value="true" />

	<ui:define name="title">
		Cambiar Contraseña
    </ui:define>

	<ui:define name="content">
		<h1>Cambiar mi Contraseña</h1>

		<h:form>
			<p:growl id="messages" />
			<div align="center">
				<h:panelGrid columns="1" width="75%" cellspacing="10"
					cellpadding="10">
					<p:panel>
						<h:panelGrid columns="3" cellspacing="10" cellpadding="10">

							<h:outputLabel for="passwordActual" value="Contraseña Actual: " />
							<p:password id="passwordActual" style="width:170px;"
								value="#{usuarioMB.passwordActual}" required="true"
								requiredMessage="Campo contraseña actual obligatorio"
								label="Contraseña actual">
								<f:validateLength minimum="6" update="passwordActualMsg" />
								<p:ajax event="blur" update="passwordActualMsg" />
							</p:password>
							<p:message id="passwordActualMsg" for="passwordActual"
								display="icon" />

							<h:outputLabel for="password" value="Nueva Contraseña: " />
							<p:password id="password" value="#{usuarioMB.password}"
								match="passwordRepeat" required="true" feedback="true"
								requiredMessage="Campo contraseña obligatorio"
								style="width:170px;" label="Contraseña">
								<f:validateLength minimum="6" update="passwordMsg" />
								<p:ajax event="blur" update="passwordMsg" />
							</p:password>
							<p:message id="passwordMsg" for="password" display="icon" />

							<h:outputText for="passwordRepeat"
								value="Repita la nueva Contraseña: " />
							<p:password id="passwordRepeat" feedback="true"
								style="width:170px;" value="#{usuarioMB.password}"
								required="true" label="Contraseña repetida"
								requiredMessage="Campo repetir contraseña obligatorio">
								<f:validateLength minimum="6" update="passwordRepeatMsg" />
								<p:ajax event="blur" update="passwordRepeatMsg" />
							</p:password>
							<p:message id="passwordRepeatMsg" for="passwordRepeat"
								display="icon" />
						</h:panelGrid>
						<div align="center" style="margin-left: 80px;">
							<p:commandButton id="modificarPass" value="Aceptar"
								action="#{usuarioMB.modificarPassword}" ajax="false" />
							<p:commandButton id="cancelar" value="Cancelar"
								action="/cliente/perfilcliente.html?faces-redirect=true"
								ajax="false" immediate="true" style="margin-left: 10px;" />
						</div>
					</p:panel>
				</h:panelGrid>
			</div>
		</h:form>
	</ui:define>
</ui:composition>